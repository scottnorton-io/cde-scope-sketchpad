<!-- scope_web/templates/result.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CDE Scope Sketchpad â€“ Result</title>
<!-- Mermaid JS from CDN -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
  // Initialize Mermaid once the page loads
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({ startOnLoad: true });
  });
</script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.min.css">
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-json.min.js"></script>
  </head>
  <body>
    <h1>CDE Scope Sketchpad</h1>
    <h2>Session Result</h2>

    {% if session.summary %}
    <h3>Summary</h3>
    <p> session.summary </p>
    {% endif %}

    <h3>Mermaid Diagram (copy into your workpapers)</h3>
    <pre><code class="language-mermaid"> 
      {{ mermaid_diagram }}
    </code></pre>
    
    <h3>Mermaid Diagram (rendered)</h3>
    <div class="mermaid">
       {{ mermaid_diagram }}
    </div>    

    <h3>Raw Session JSON</h3>
    <pre><code> 
      {{ session | tojson(indent=2) }}
    </code></pre>
    <p>
      <a href=" url_for('new_session_form') ">Start another session</a>
    </p>
  </body>
</html>
